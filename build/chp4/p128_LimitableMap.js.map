{"version":3,"sources":["../../chp4/p128_LimitableMap.js"],"names":[],"mappings":";;;;;;IAAM,Y;AAEF,0BAAY,KAAZ,EAAmB;AAAA;;AACf,aAAK,KAAL,GAAa,KAAb;AACA,aAAK,GAAL,GAAW,EAAX;AACA,aAAK,IAAL,GAAY,EAAZ;AACH;;;;4BAEG,G,EAAK,K,EAAO;AACZ,gBAAI,MAAM,KAAK,GAAf;AACA,gBAAI,OAAO,KAAK,GAAhB;;;AAGA,gBAAI,CAAC,IAAI,cAAJ,CAAmB,GAAnB,CAAL,EAA8B;AAC1B,oBAAI,KAAK,MAAL,KAAgB,KAAK,KAAzB,EAAgC;AAC5B,wBAAI,WAAW,KAAK,KAAL,EAAf;AACA,2BAAO,IAAI,QAAJ,CAAP;AACH;AACD,qBAAK,IAAL,CAAU,GAAV;AACH;;AAED,gBAAI,GAAJ,IAAW,KAAX;AACH;;;4BAEG,G,EAAK;AACL,mBAAO,KAAK,GAAL,CAAS,GAAT,CAAP;AACH","file":"p128_LimitableMap.js","sourcesContent":["class LimitableMap {\n\n    constructor(limit) {\n        this.limit = limit;\n        this.map = {};\n        this.keys = [];\n    }\n\n    set(key, value) {\n        let map = this.map;\n        let keys = this.key;\n\n        // 新键, 需要处理满的问题\n        if (!map.hasOwnProperty(key)) {\n            if (keys.length === this.limit) {\n                let firstKey = keys.shift();\n                delete map[firstKey];\n            }\n            keys.push(key);\n        }\n        // 添加或者更新\n        map[key] = value;\n    }\n\n    get(key) {\n        return this.map[key];\n    }\n}\n\n"]}